<!DOCTYPE html><html lang="en"><head><title>How this website was built | Blog | Software Engineer | Thomas Torfs</title><meta name="description" content="How this website was built"><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta name="MobileOptimized" content="width"><meta name="HandheldFriendly" content="true"><meta name="viewport" content="width=device-width, initial-scale=1"><meta http-equiv="X-Frame-Options" content="DENY"><meta property="og:title" content="How this website was built | Blog | Software Engineer | Thomas Torfs"><meta property="og:type" content="blogpost"><link rel="alternate" type="application/rss+xml" title="RSS" href="http://www.thomastorfs.com/feed/rss"><!--[if (gte IE 6)&(lte IE 8)]><script src="/js/selectivizr.min.js?1671787199761"></script><![endif]--><link rel="shortcut icon" href="/favicon.ico?1671787199761" type="image/x-icon"><link rel="icon" type="image/x-icon" href="/favicon.ico?1671787199761"><link rel="icon" type="image/png" href="/images/favicon-32x32.png?1671787199761" sizes="32x32"><link rel="apple-touch-icon" href="/build/images/favicons/60.png?1671787199761"><link rel="apple-touch-icon" href="/build/images/favicons/76.png?1671787199761" sizes="76x76"><link rel="apple-touch-icon" href="/images/apple-touch-icon-120x120.png?1671787199761" sizes="120x120"><link rel="apple-touch-icon" href="/images/apple-touch-icon-152x152.png?1671787199761" sizes="152x152"><link href="https://fonts.googleapis.com/css?family=Libre+Baskerville:700,400" rel="stylesheet" type="text/css" media="print" onload="this.media='all'"><link href="https://fonts.googleapis.com/css?family=Open+Sans:800" rel="stylesheet" type="text/css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/css/app.css?1671787199761"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q || []).push(arguments)},i[r].l=1 * new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-274114-1', 'auto');
ga('send', 'pageview');</script></head></html><body class="nav--hidden"><header class="wrapper header header--default top"><div class="wrapper__inner header__main"><div class="wrapper__content"><h1 class="logo--main"><a href="/" data-href="/" title="Go back to the homepage."><svg xmlns="http://www.w3.org/2000/svg" width="130.334" height="72.466" viewBox="0 0 130.33365 72.4655"><path d="M121.059 12.995c-2.265.209-3.504-2.937-3.504-2.937.56.46 5.77 2.727 3.504 2.937m-11.427 25.41c-4.199-9.007 8.493-13.372 11.018-11.936 1.79 1.064 3.261 2.881 3.261 2.881s1.897-4.37 5.412-6.169c4.022-2.058-5.3-8.917-4.653-10.315 1.263-2.728-2.322-5.92-5.95-8.862-7.44-6.031-17.485-3.459-17.485-3.459s6.001.294 7.944 4.134C101.305 3.248 92.645 3.053 85.19 5.98c2.677-.043 5.934.054 8.847 1.854-5.67-1.247-10.473-.085-14.774 1.396 2.104-.277 4.347.29 5.412 1.027-7.246-.123-11.997 4.272-11.997 4.272a56.783 56.783 0 0 1-4.333 3.505c-10.532 7.764-17.318 5.676-29.913 7.873C4.139 38.408-1.932 8.099 28.69 13.906c-34.17-6.965-25.887 26.752 5.644 16.539-10.426 4.342-13.016 18.85-26.46 24.28C4.589 56.051 3.224 67.161 0 72.206c4.359.07 11.439 1.3 10.549-2.277-2.351-9.465 33.964-22.231 40.911-24.305 13.74-3.14 23.683-3.969 30.16 6.139-8.096-18.356-31.551-16.56-35.66-15.342 19.023-3.494 35.617 4.746 39.462 19.776 1.461 4.818 8.725 8.943 6.12 15.996 0 0 6.296-.244 9.79.05 3.609.167-9.225-21.468-2.954-22.074 2.301-.25 7.081 4.955 11.302 8.953 4.14 3.921 8.851 8.668 9.344 12.436 3.884.368 13.333 1.403 10.893-1.156-12.821-13.442-16.086-22.99-20.285-31.997z"/><path d="M37.976 14.405c-5.403-3.91-6.285-.233-10.17-.754 3.626 5.59 6.334-.091 10.17.754z" fill-rule="evenodd"/><g><path d="M67.38 44.213c-10.267-.102-24.606 4.652-28.965 10.341 0 0 8.798 13.688 5.613 17.439 5.005.041 11.678 1.066 10.465-1.765-1.213-2.833-5.085-11.984-.91-17.696 2.882-3.945 7.528-5.336 13.798-8.319"/></g></svg></a></h1><a href="#" class="nav-toggler"><strong>Menu</strong></a></div></div><div class="header__nav"><nav class="nav--primary"><ul><li class="home"><a href="/" data-href="/" title="Go to the homepage.">Home</a></li><li class="about"><a href="/about" data-href="/about" title="Go to the about page.">About</a></li><li class="blog"><a href="/blog" data-href="/blog" title="Go to the blog.">Blog</a></li><li class="reading"><a href="/reading" data-href="/reading" title="Go to the reading page.">Reading</a></li></ul></nav></div></header><article class="article--main blogpost"><header data-bgset="/images/blog/20161027-how-this-website-was-built/hero-small.jpg 320w, /images/blog/20161027-how-this-website-was-built/hero-medium.jpg 640w, /images/blog/20161027-how-this-website-was-built/hero-large.jpg" data-sizes="auto" class="wrapper wrapper--bg lazyload hero hero--bg hero--dualheight hero--title hero--blogpost"><div class="wrapper__inner"><div class="wrapper__content"><h1>How this website was built</h1><p class="meta">27 October 2016 <span class="separator">|</span> 3 minute read</p><div class="section__next"></div></div></div><div class="wrapper__caption">Photo by Todd Quackenbush</div></header><div class="article--main__text wrapper"><div class="wrapper__inner"><div class="wrapper__content"><h2>Static FTW!</h2><p>Not so long ago, I stumbled upon this beautifully designed and amazingly fast website from <a href="http://mojotech.com/" target="_blank" title="View the MojoTech website">MojoTech</a>. A quick look at their source code showed that they used a pretty nifty approach for speeding everything up. First and foremost it was a static website, or at least statically served I thought (proxy?). And second of all, nearly all the needed HTML was served as well using JSON.</p><p>So I started looking for sources how the HTML was rendered, and I found a great video from <a href="https://github.com/samccone" target="_blank" title="Visit Sam Saccone's Github profile">Sam Saccone</a> explaining the technology behind it all. Curiously enough, he showed a rather straightforward framework called <a href="http://roots.cx/" target="_blank" title="Go to the Roots website">Roots</a>, made by <a href="http://carrot.is/" target="_blank" title="View the Carrot Creative website">Carrot Creative</a>. Here it is:</p><iframe src="https://www.youtube.com/embed/rOIJ27MFlsY" frameborder="0" allowfullscreen></iframe><p>This convinced me to use a similar approach and start building this website using Roots as well after creating a  design. Now, some things did not go as planned. Roots already has several <a href="http://roots.cx/extensions" target="_blank" title="View the official Roots extensions">extremely useful extensions</a>. I wanted to go for a completely static approach. No database involved. And the Dynamic Content extension made that possible.</p><h2>Wait! Not so fast!</h2><p><a href="https://github.com/carrot/roots-dynamic-content" target="_blank" title="Go to the Github repository of Dynamic Content">Dynamic Content</a> compiles static templates and serves the rest of the website with local variables, which in turn you can use to dynamically render your website. Sweet! However, whenever you would like to use these variables within the dynamic templates themselves, the remaining templates aren't yet compiled. The result is that the local variables lack data upon compilation.</p><p>The solution to this problem is rather simple. The dynamic templates use Front Matter in order to deliver data to Roots. I wrote a small CoffeeScript class that recursively extracts and returns this data in JSON format. Roots can be configured as such that local variables are inserted before compiling. Here's the result:</p><pre class="code"><!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">fs          = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;fs&#39;</span>
<span style="color: #f8f8f2">fm          = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;front-matter&#39;</span>
<span style="color: #f8f8f2">_           = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;underscore&#39;</span>
<span style="color: #f8f8f2">path        = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;path&#39;</span>

<span style="color: #75715e"># Create our Content Repository class</span>
<span style="color: #66d9ef">class</span> <span style="color: #a6e22e">ContentRepository</span>
    <span style="color: #f8f8f2">getBlogPosts: </span><span style="color: #a6e22e">-&gt;</span>
        <span style="color: #75715e"># Get the blogposts</span>
        <span style="color: #f8f8f2">posts = </span><span style="color: #a6e22e">@getDirectoryEntries</span> <span style="color: #e6db74">&#39;views/blog&#39;</span>
        <span style="color: #75715e"># Sort by descending date</span>
        <span style="color: #f8f8f2">posts = </span><span style="color: #a6e22e">_</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sortBy</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">posts</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39;date&#39;</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">reverse</span><span style="color: #f8f8f2">()</span>

    <span style="color: #f8f8f2">getProjects: </span><span style="color: #a6e22e">-&gt;</span>
        <span style="color: #75715e"># Get the projects</span>
        <span style="color: #f8f8f2">projects = </span><span style="color: #a6e22e">@getDirectoryEntries</span> <span style="color: #e6db74">&#39;views/work&#39;</span>
        <span style="color: #75715e"># Sort by ascending index</span>
        <span style="color: #f8f8f2">projects = </span><span style="color: #a6e22e">_</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sortBy</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">projects</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39;index&#39;</span><span style="color: #f8f8f2">)</span>

    <span style="color: #f8f8f2">getDirectoryEntries: </span><span style="color: #a6e22e">(directory, files = []) =&gt;</span>
        <span style="color: #75715e"># Read all files</span>
        <span style="color: #f8f8f2">entries = </span><span style="color: #a6e22e">fs</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">readdirSync</span> <span style="color: #a6e22e">directory</span>

        <span style="color: #75715e"># Process each entry individually</span>
        <span style="color: #a6e22e">_</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">each</span> <span style="color: #a6e22e">entries</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">(entry, index) =&gt;</span>
            <span style="color: #75715e"># Get the full path</span>
            <span style="color: #f8f8f2">filePath = </span><span style="color: #a6e22e">path</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">join</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">directory</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">entry</span><span style="color: #f8f8f2">)</span>

            <span style="color: #75715e"># What kind of entry is it?</span>
            <span style="color: #f8f8f2">fileStat = </span><span style="color: #a6e22e">fs</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">statSync</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">filePath</span><span style="color: #f8f8f2">)</span>

            <span style="color: #75715e"># Process an individual file</span>
            <span style="color: #66d9ef">if</span> <span style="color: #a6e22e">fileStat</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">isFile</span><span style="color: #f8f8f2">()</span> <span style="color: #f92672">&amp;&amp;</span> <span style="color: #a6e22e">path</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">extname</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">entry</span><span style="color: #f8f8f2">)</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&#39;.jade&#39;</span>
                <span style="color: #75715e"># Read it</span>
                <span style="color: #f8f8f2">file = </span><span style="color: #a6e22e">fs</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">readFileSync</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">filePath</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39;utf8&#39;</span><span style="color: #f8f8f2">)</span>

                <span style="color: #75715e"># Create the URL</span>
                <span style="color: #f8f8f2">p = </span><span style="color: #a6e22e">path</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">relative</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;views&#39;</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">path</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">join</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">filePath</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">substr</span><span style="color: #f8f8f2">(</span><span style="color: #ae81ff">0</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">filePath</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">lastIndexOf</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;.&#39;</span><span style="color: #f8f8f2">))))</span>

                <span style="color: #75715e"># And add the front-matter data to the files array, with URL</span>
                <span style="color: #f8f8f2">fileData = </span><span style="color: #a6e22e">fm</span> <span style="color: #a6e22e">file</span>
                <span style="color: #f8f8f2">fileData.attributes._url = </span><span style="color: #e6db74">&quot;/&#x23;{</span><span style="color: #a6e22e">p</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">replace</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">path</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">sep</span><span style="color: #f8f8f2">,</span> <span style="color: #e6db74">&#39;/&#39;</span><span style="color: #f8f8f2">)</span><span style="color: #e6db74">}&quot;</span>
                <span style="color: #a6e22e">files</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">push</span> <span style="color: #a6e22e">fileData</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">attributes</span>

            <span style="color: #75715e"># Process a directory</span>
            <span style="color: #66d9ef">else</span> <span style="color: #66d9ef">if</span> <span style="color: #a6e22e">fileStat</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">isDirectory</span><span style="color: #f8f8f2">()</span>
               <span style="color: #75715e"># Traverse the newly found directory</span>
                <span style="color: #f8f8f2">files = </span><span style="color: #a6e22e">@getDirectoryEntries</span> <span style="color: #a6e22e">filePath</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">files</span>

            <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">files</span>

    <span style="color: #f8f8f2">module.exports = </span><span style="color: #a6e22e">ContentRepository</span>
</pre></td></tr></table></div>
</pre><h2>What about the images?</h2><p>Nowadays it is no longer a luxury to have <a href="http://responsiveimages.org/" target="_blank" title="Go to the official Responsive Images Community Group website">retina-proof responsive images</a> on your website. The complexity is that, with or without art direction, you may need more than 2 versions of the same image. Now, imagine that you have added dozens (if not hundreds) of manually resized images to your website and you would like to alter the dimensions or layout of your website. What now?</p><p>Again, using the same approach above a solution came to mind. I wrote a CoffeeScript image resizer class and used it within custom <a href="http://naltatis.github.io/jade-syntax-docs/#mixin" target="_blank" title="Go to the official Jade documentation about Mixins">Jade Mixins</a> for rendering the final image tags. The only thing I had to do next was to say where the image was, where it needed to go, and what extra data needed to be added. That's it. The rest is magic. Here's the class:</p><pre class="code"><!-- HTML generated using hilite.me --><div style="background: #272822; overflow:auto;width:auto;border:solid gray;border-width:.1em .1em .1em .8em;padding:.2em .6em;"><table><tr><td><pre style="margin: 0; line-height: 125%"> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46</pre></td><td><pre style="margin: 0; line-height: 125%"><span style="color: #f8f8f2">_       = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;underscore&#39;</span>
<span style="color: #f8f8f2">fs      = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;fs&#39;</span>
<span style="color: #f8f8f2">path    = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;path&#39;</span>
<span style="color: #f8f8f2">Jimp    = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;jimp&#39;</span>
<span style="color: #f8f8f2">mkdirp  = </span><span style="color: #a6e22e">require</span> <span style="color: #e6db74">&#39;mkdirp&#39;</span>

<span style="color: #66d9ef">class</span> <span style="color: #a6e22e">ImageResizer</span>
    <span style="color: #f8f8f2">createImage: </span><span style="color: #a6e22e">(opts) -&gt;</span>
        <span style="color: #75715e"># Complete the config with defaults where necessary.</span>
        <span style="color: #f8f8f2">options = </span><span style="color: #a6e22e">_</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">defaults</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">opts</span><span style="color: #f8f8f2">,</span> <span style="color: #f8f8f2">{</span>
            <span style="color: #f8f8f2">crop: </span><span style="color: #66d9ef">true</span><span style="color: #f8f8f2">,</span>
            <span style="color: #f8f8f2">quality: </span><span style="color: #ae81ff">80</span>
        <span style="color: #f8f8f2">})</span>

        <span style="color: #75715e"># Create the new filename</span>
        <span style="color: #f8f8f2">filedest = </span><span style="color: #a6e22e">path</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">parse</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">source</span><span style="color: #f8f8f2">).</span><span style="color: #a6e22e">name</span> <span style="color: #f92672">+</span> <span style="color: #e6db74">&#39;-&#39;</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">suffix</span> <span style="color: #f92672">+</span> <span style="color: #e6db74">&#39;.jpg&#39;</span>

        <span style="color: #75715e"># Define the public destination</span>
        <span style="color: #f8f8f2">dest = </span><span style="color: #e6db74">&#39;/images/&#39;</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">dest</span> <span style="color: #f92672">+</span> <span style="color: #e6db74">&#39;/&#39;</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">filedest</span>

        <span style="color: #75715e"># Check if the final image exists, if not, create it</span>
        <span style="color: #a6e22e">fs</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">stat</span> <span style="color: #e6db74">&#39;public&#39;</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">dest</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">(err, stat) -&gt;</span>
            <span style="color: #66d9ef">if</span> <span style="color: #a6e22e">err</span> <span style="color: #f92672">&amp;&amp;</span> <span style="color: #a6e22e">err</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">code</span> <span style="color: #f92672">==</span> <span style="color: #e6db74">&#39;ENOENT&#39;</span>
                <span style="color: #75715e"># Make sure that the directory exists</span>
                <span style="color: #a6e22e">mkdirp</span> <span style="color: #e6db74">&#39;public/images/&#39;</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">dest</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">(err) -&gt;</span>
                    <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">err</span><span style="color: #f8f8f2">)</span>
                        <span style="color: #66d9ef">throw</span> <span style="color: #a6e22e">err</span>

                    <span style="color: #75715e"># Resize the image</span>
                    <span style="color: #a6e22e">Jimp</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">read</span> <span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">source</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">(err, img) -&gt;</span>
                        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">err</span><span style="color: #f8f8f2">)</span>
                            <span style="color: #66d9ef">throw</span> <span style="color: #a6e22e">err</span>

                        <span style="color: #75715e"># Resize the image</span>
                        <span style="color: #66d9ef">if</span> <span style="color: #f8f8f2">(</span><span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">crop</span><span style="color: #f8f8f2">)</span>
                            <span style="color: #a6e22e">img</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">cover</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">w</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">h</span><span style="color: #f8f8f2">)</span>
                                <span style="color: #f8f8f2">.</span><span style="color: #a6e22e">quality</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">quality</span><span style="color: #f8f8f2">)</span>
                                <span style="color: #f8f8f2">.</span><span style="color: #a6e22e">write</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;public&#39;</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">dest</span><span style="color: #f8f8f2">)</span>
                        <span style="color: #66d9ef">else</span>
                            <span style="color: #a6e22e">img</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">resize</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">w</span><span style="color: #f8f8f2">,</span> <span style="color: #a6e22e">Jimp</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">AUTO</span><span style="color: #f8f8f2">)</span>
                                <span style="color: #f8f8f2">.</span><span style="color: #a6e22e">quality</span><span style="color: #f8f8f2">(</span><span style="color: #a6e22e">options</span><span style="color: #f8f8f2">.</span><span style="color: #a6e22e">quality</span><span style="color: #f8f8f2">)</span>
                                <span style="color: #f8f8f2">.</span><span style="color: #a6e22e">write</span><span style="color: #f8f8f2">(</span><span style="color: #e6db74">&#39;public&#39;</span> <span style="color: #f92672">+</span> <span style="color: #a6e22e">dest</span><span style="color: #f8f8f2">)</span>

        <span style="color: #66d9ef">return</span> <span style="color: #a6e22e">dest</span>

<span style="color: #f8f8f2">module.exports = </span><span style="color: #a6e22e">ImageResizer</span>
</pre></td></tr></table></div>
</pre><h2>The styling</h2><p>Ahh, the styling... theming has become increasingly more complex, especially considering the increasingly more dynamic and modular approach to building websites. Luckily, a few very well-thought-out techniques have been published over the past few years. The ones I use on this website are <a href="https://www.xfive.co/blog/itcss-scalable-maintainable-css-architecture/" target="_blank" title="Read ITCSS: Scalable and maintainable CSS architecture">ITCSS</a> and <a href="https://en.bem.info/" target="_blank" title="Go to the official BEM website">BEM</a>. Despite having more files and longer syntax, the actual theming is now much more versatile and maintainable. The compilation of the styling is done using the almighty tool <a href="http://postcss.org/" target="_blank" title="Go to the PostCSS website">PostCSS</a>.</p><p>Next to the CSS I also use <a href="http://browserify.org/" target="_blank" title="Go to the main Browserify website">Browserify</a> for writing modular JavaScript. It's incredibly handy for compiling your code together with required CommonJS modules into a final codebase, ready to be used by your browser. I combined it with the power of CoffeeScript, as demonstrated in the video above. Many thanks to Sam Saccone for the idea.</p><h2>Final thoughts</h2><p>Roots may be an excellent framework, but honestly, I'm considering to rewrite it for the next big thing from Carrot Creative. <a href="http://jeffescalante.com/" target="_blank" title="Go to Jeff Escalante's website">Jeff Escalante</a>, the main creator of Roots, is now busy creating something truly remarkable. It is called <a href="https://www.spike.cf" target="_blank" title="Go to the official Spike website">Spike</a>, and it's like no other static website generator you have seen before. At least I know I haven't. This is what got my attention, and it may just be the new home for the codebase of this website in the future.</p><p>So stay tuned!</p></div></div></div></article><section class="nav--prevnext wrapper"><header class="section__header"><h1>Blog navigation</h1></header><div class="section__content"><ul class="cols cols--reverse"><li class="col"><a href="/blog/20220911-ssl-certificates-for-java" data-href="/blog/20220911-ssl-certificates-for-java" data-bgset="/images/blog/20220911-ssl-certificates-for-java/hero-large-2x.jpg 1024w, /images/blog/20220911-ssl-certificates-for-java/hero-small-2x.jpg 640w" title="Read SSL certificates for Java" class="bglink lazyload"><div class="text"><h2>SSL certificates for Java</h2><p class="meta">11 September 2022 <span class="separator">|</span> 3 minute read</p></div></a></li><li class="col"><a href="/blog/20200707-3-alarming-facts-for-this-century" data-href="/blog/20200707-3-alarming-facts-for-this-century" data-bgset="/images/blog/20200707-3-alarming-facts-for-this-century/hero-large-2x.jpg 1024w, /images/blog/20200707-3-alarming-facts-for-this-century/hero-small-2x.jpg 640w" title="Read 3 Alarming facts for this century" class="bglink lazyload"><div class="text"><h2>3 Alarming facts for this century</h2><p class="meta">7 July 2020 <span class="separator">|</span> 3 minute read</p></div></a></li></ul></div></section><footer class="wrapper"><div class="wrapper__inner"><h1><a href="/" data-href="/" title="Go back to the homepage.">Thomas Torfs Portfolio</a></h1></div></footer><script src="/js/app.js?1671787199761"></script></body>